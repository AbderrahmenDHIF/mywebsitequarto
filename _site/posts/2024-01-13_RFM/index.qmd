---
title: "Segmentation RFM dans le Retail"
description: "Une approche stratégique et simple pour améliorer la gestion de la clientèle est la segmentation RFM"
date: 01-13-2024
categories: [Python, R, Marketing, Connaissance Client] 
image: RFM.png
format:
    html: 
        code-fold: true
draft: false 
---

![](RFM.png)

# en construction ...

## Contexte

Dans l'univers compétitif du retail, les marques cherchent souvent à identifier les clients ayant plus de valeur afin de mieux répondre à leurs attentes.

La segmentation RFM offre une solution précieuse pour atteindre cet objectif en identifiant des segments de clients aux comportements similaires.

## Qu'est-ce que la Segmentation RFM ?

### R: Récence

![](recence.png){fig-align="center" fig-alt="Calcul de la Récence."}

Mesure le temps écoulé depuis le dernier achat d'un client. <br>
Les clients qui ont acheté récemment sont plus susceptibles de se souvenir de leur expérience et sont souvent plus enclins à revenir.

### F: Fréquence

![](frequence.png){fig-align="center" fig-alt="Calcul de la Fréquence."}

Evalue à quelle fréquence un client effectue des achats sur une période donnée. <br>
Une fréquence d'achat élevée est généralement un indicateur de fidélité et de satisfaction du client.

### M: Montant 

![](montant.png){fig-align="center" fig-alt="Calcul du Montant."}

Le montant analyse le total des dépenses d'un client. <br>
Les clients qui dépensent beaucoup sont représentent une source de revenus significative pour l'entreprise.

## Les Raisons Clés d'Adopter la Segmentation RFM

* **Personnalisation des Stratégies Marketing:** La RFM permet de catégoriser les clients en fonction de leur comportement d'achat réel, permettant ainsi des campagnes marketing plus précises et personnalisées.
* **Amélioration de la Fidélisation Client:** En ciblant les clients avec des offres pertinentes, la segmentation RFM peut augmenter leur satisfaction et fidélité, améliorant ainsi leur valeur à vie pour l'entreprise.
* **Simplification de l'Analyse des Données:** La segmentation RFM est relativement simple à mettre en œuvre et à comprendre, la rendant accessible même pour les entreprises avec des capacités d'analyse de données limitées.

l'adoption de la segmentation RFM dans le retail offre une multitude d'avantages, allant de l'amélioration du ciblage marketing à une meilleure compréhension et gestion des relations clients, tout en restant une méthode accessible et facile à intégrer dans diverses stratégies d'entreprise.

## Mise en œuvre

Dans cette partie, nous allons explorer comment implémenter la segmentation RFM en utilisant R et Python, en nous basant sur le jeu de données 'Online Retail' disponible sur Kaggle.

**Informations sur le Jeu de Données :**
Ce jeu de données contient toutes les transactions réalisées pour une entreprise de vente en ligne basée au Royaume-Uni, entre le 01/12/2009 et le 09/12/2011.

::: {.panel-tabset}


# R
### Chargement des données

```{r warning=FALSE,message=FALSE}
library(data.table)
library(tidyverse)
library(lubridate)
library(plotly)

data <- fread("data/OnlineRetail.csv", drop = c(3,8))%>%
  mutate(InvoiceDate = dmy(str_sub(InvoiceDate, 1, 10))) %>% 
  filter(UnitPrice>0,Quantity>0)

  knitr::kable(head(data,2),format = "html")
```

### Calcul RFM

```{r warning=FALSE,message=FALSE}
data_rfm = data %>%
  group_by(CustomerID) %>%
  summarise(Frequence = n_distinct(InvoiceNo),
  Montant = sum(UnitPrice),
  dernier_achat=max(InvoiceDate),
  premier_achat=min(InvoiceDate))  %>% 
  ungroup() %>% 
  mutate(Recence=as.numeric(max(dernier_achat)-dernier_achat),
  Anciennete=as.numeric(max(dernier_achat)-premier_achat)) %>% 
  filter(Montant<1000) %>% 
  select(-dernier_achat,-premier_achat)

  knitr::kable(head(data_rfm,2),format = "html")
```


## Nouveaux clients

Les clients dont l'ancienneté est inférieure à 3 mois, cette durée peut varier selon le secteur d'activité et la nature des données. Par exemple, dans le retail (mode et habillement) la période considérée peut souvent s'étendre jusqu'à 6 mois.

```{r warning=FALSE,message=FALSE}
data_nouveaux=data_rfm %>% filter(Anciennete<30.5*3)
```



## Clients fidèles

```{r warning=FALSE,message=FALSE}
data_fideles=data_rfm %>% anti_join(data_nouveaux,by='CustomerID') 
```

### Kmeans pour définir les seuils
```{r warning=FALSE,message=FALSE}
data_fideles_standardisees <- scale(data_fideles %>% select(Frequence,Montant,Recence)) 

set.seed(123)
km=kmeans(data_fideles_standardisees, 5)

data_fideles_km=data_fideles %>% mutate(segment=factor(km$cluster))

knitr::kable(data_fideles_km%>% count(segment)%>% mutate(poids=round(100*n/sum(n),1))%>% arrange(segment),format = "html")

```

### Projection sur R-F-M

::: {.panel-tabset}

#### RFM

```{r warning=FALSE,message=FALSE}
fig <- plot_ly(data=data_fideles_km %>% filter(Frequence<40),x = ~Montant, y = ~Frequence, z = ~Recence,color = ~segment,
text=~paste0("R:",Recence,'<br>',
"F:",Frequence,'<br>',
"M:",round(Montant),'<br>') , type = 'scatter3d', mode = 'markers',hoverinfo = 'text')
fig
```

#### RF

```{r warning=FALSE,message=FALSE}

ggplot(data_fideles_km %>% filter(Frequence<20))+
geom_point(aes(x=Frequence,y=Recence,color=segment))+
geom_hline(yintercept=30.5*6)+
geom_vline(xintercept=6.2)+
geom_vline(xintercept=3.2)+
theme_bw()
```


#### FM

```{r warning=FALSE,message=FALSE}

ggplot(data_fideles_km %>% filter(Frequence<40))+
geom_point(aes(x=Frequence,y=Montant,color=segment))+
geom_hline(yintercept=650)+
geom_hline(yintercept=200)+
theme_bw()
```



:::

# Python 

en construction ...


:::

## Recommandation Marketing/CRM

![](reco-dark.png){fig-align="center" fig-alt="Recommandation Marketing/CRM"}


   
## Conclusion

La segmentation RFM, avec sa simplicité et sa facilité d'implémentation, s'est révélée être un outil efficace pour cerner et cibler les clients. Elle permet de personnaliser les actions marketing et de renforcer la fidélité client.

Néanmoins, elle présente des limites, principalement son focus sur des aspects financiers, en négligeant d'autres facettes importantes du comportement client comme les préférences ou les habitudes d'achat. De plus, elle peut entraîner une sur-sollicitation des clients les plus fidèles, risquant de diminuer l'efficacité des efforts marketing.

À mesure que l’entreprise gagne en maturité Data, il sera nécessaire de s’orienter vers une segmentation plus complète et plus stratégique, telle que la segmentation comportementale, pour une analyse plus détaillée et précise de nos clients en prenant en compte leurs préférences et leurs habitudes d'achat.
